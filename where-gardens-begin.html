<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Where Gardens Begin — Gardener &amp; Son</title>

  <meta name="description" content="A gentle beginning: share a little about your garden, upload a few photos, and receive a clear first step." />

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Abril+Fatface&family=IBM+Plex+Sans:wght@300;400;500&display=swap" rel="stylesheet" />

  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          fontFamily: {
            serif: ['"Abril Fatface"', "serif"],
            sans: ['"IBM Plex Sans"', "sans-serif"],
          },
          colors: {
            "gardener-green": "#3d4535",
            "nostalgic-beige": "#fff0dc",
          },
        },
      },
    };
  </script>

  <style>
    * { -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale; }
    body { font-family: "IBM Plex Sans", sans-serif; }
    h1, h2, h3, .font-serif { font-family: "Abril Fatface", serif; font-weight: 400; }

    /* Theme tokens (match REG) */
    :root{
      --bg: #fff0dc;
      --fg: #3d4535;
      --muted: rgba(61,69,53,.72);
      --hair: rgba(61,69,53,.10);
      --wash: rgba(61,69,53,.05);
      --navh: 80px;
    }
    html.dark{
      --bg: #3d4535;
      --fg: #fff0dc;
      --muted: rgba(255,240,220,.78);
      --hair: rgba(255,240,220,.10);
      --wash: rgba(255,240,220,.06);
    }

    body{ background: var(--bg); color: var(--fg); }
    .muted{ color: var(--muted); }
    .wash{ background: var(--wash); }

    /* Contrast rhythm (REG-like subtle wash) */
    .screen:nth-child(even) { background: var(--wash); }

    /* Borders + fills (REG-like) */
    .border-subtle { border-color: rgba(61, 69, 53, 0.12); }
    html.dark .border-subtle { border-color: rgba(255, 240, 220, 0.18); }

    .border-subtle-strong { border-color: rgba(61, 69, 53, 0.15); }
    html.dark .border-subtle-strong { border-color: rgba(255, 240, 220, 0.25); }

    .bg-subtle { background: rgba(61, 69, 53, 0.05); }
    html.dark .bg-subtle { background: rgba(255, 240, 220, 0.08); }

    .btn-border {
      border: 1px solid rgba(61, 69, 53, 0.25);
    }
    html.dark .btn-border {
      border: 1px solid rgba(255, 240, 220, 0.35);
    }
    .btn-border:hover {
      background: var(--fg);
      color: var(--bg);
      border-color: var(--fg);
    }

    .nav-border { border-bottom: 1px solid rgba(61, 69, 53, 0.10); }
    html.dark .nav-border { border-bottom: 1px solid rgba(255, 240, 220, 0.15); }

    :focus-visible { outline: 2px solid rgba(61, 69, 53, 0.55); outline-offset: 3px; }
    html.dark :focus-visible { outline: 2px solid rgba(255, 240, 220, 0.55); }

    /* Badge (match REG) */
    .gs-badge {
      position: fixed;
      bottom: 24px;
      right: 24px;
      z-index: 50;
      background: var(--bg);
      border: 1px solid rgba(61, 69, 53, 0.15);
      border-radius: 2px;
      padding: 8px 12px;
      font-size: 10px;
      letter-spacing: 0.1em;
      text-transform: uppercase;
      opacity: 0.6;
      transition: all 0.2s ease;
      color: var(--fg);
      text-decoration: none;
      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
    }
    .gs-badge:hover { opacity: 1; border-color: rgba(61, 69, 53, 0.25); }
    html.dark .gs-badge {
      border-color: rgba(255, 240, 220, 0.15);
      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);
    }
    html.dark .gs-badge:hover { border-color: rgba(255, 240, 220, 0.35); }

    @media (max-width: 768px) {
      .gs-badge { bottom: 16px; right: 16px; font-size: 9px; padding: 6px 10px; }
    }

    /* Next section indicator (match REG) */
    .next-section {
      position: absolute;
      bottom: 80px;
      left: 50%;
      transform: translateX(-50%);
      text-align: center;
      opacity: 0.5;
      transition: opacity 0.3s ease;
      cursor: pointer;
      text-decoration: none;
      color: var(--fg);
      z-index: 10;
    }
    .next-section:hover { opacity: 1; }
    .next-section-arrow {
      font-size: 20px;
      display: block;
      margin-bottom: 4px;
      animation: pulse 2s ease-in-out infinite;
    }
    .next-section-label {
      font-size: 10px;
      letter-spacing: 0.1em;
      text-transform: uppercase;
      font-weight: 400;
    }
    @keyframes pulse {
      0%, 100% { opacity: 0.4; transform: translateY(0); }
      50% { opacity: 1; transform: translateY(-3px); }
    }
    @media (max-width: 768px) {
      .next-section { bottom: 60px; }
      .next-section-arrow { font-size: 18px; }
      .next-section-label { font-size: 9px; }
    }
    .screen:last-of-type .next-section { display: none; }

    /* FULL-SCREEN + SNAP (match REG) */
    html, body { height: 100%; scroll-behavior: smooth; }
    main { scroll-snap-type: y proximity; scroll-padding-top: var(--navh); }
    .screen{
      min-height: 100svh;
      scroll-snap-align: start;
      position: relative;

      display: flex;
      align-items: center;
      justify-content: center;

      padding-top: calc(var(--navh) + 20px);
      padding-bottom: var(--navh);
      padding-left: 1.5rem;
      padding-right: 1.5rem;
    }
    .screen > div { width: 100%; }
    .screen:not(#top){
      padding-top: calc(var(--navh) + 10px);
      padding-bottom: 220px;
    }

    @media (max-width: 768px){
      :root{ --navh: 120px; }
      .screen{
        padding-top: calc(var(--navh) + 20px);
        padding-bottom: var(--navh);
        padding-left: 1rem;
        padding-right: 1rem;
      }
      .screen:not(#top){ padding-top: calc(var(--navh) + 20px); padding-bottom: 260px; }
      .hero-title{ line-height: 0.92; }
      h1{ font-size: 2.5rem; }
      h2{ font-size: 2rem; }
    }

    nav{
      position: fixed;
      top: 0; left: 0; right: 0;
      z-index: 100;
      will-change: transform;
    }

    @media (prefers-reduced-motion: reduce){
      html { scroll-behavior: auto !important; }
      main { scroll-snap-type: none; }
      .next-section-arrow{ animation: none; }
    }

    /* Subtle hover enhancement for cards */
    .card-hover { transition: all 0.2s ease; }
    .card-hover:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(61, 69, 53, 0.08);
    }
    html.dark .card-hover:hover { box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3); }

    /* Selection buttons */
    .choice-btn{
      display: block;
      width: 100%;
      text-align: left;
      padding: 14px 14px;
      border: 1px solid rgba(61, 69, 53, 0.15);
      background: rgba(61,69,53,0.05);
      border-radius: 2px;
      transition: all .18s ease;
    }
    html.dark .choice-btn{
      border: 1px solid rgba(255,240,220,0.20);
      background: rgba(255,240,220,0.08);
    }
    .choice-btn:hover{
      border-color: rgba(61,69,53,0.35);
      background: rgba(61,69,53,0.08);
    }
    html.dark .choice-btn:hover{
      border-color: rgba(255,240,220,0.35);
      background: rgba(255,240,220,0.10);
    }
    .choice-btn[data-selected="true"]{
      background: var(--fg);
      color: var(--bg);
      border-color: var(--fg);
    }

    /* Inputs */
    .input{
      width: 100%;
      padding: 12px 12px;
      border-radius: 2px;
      border: 1px solid rgba(61,69,53,0.18);
      background: rgba(61,69,53,0.02);
      color: var(--fg);
    }
    html.dark .input{
      border: 1px solid rgba(255,240,220,0.22);
      background: rgba(255,240,220,0.06);
      color: var(--fg);
    }
    .input::placeholder{ color: var(--muted); }

    /* Upload dropzone */
    .dropzone{
      border: 1px dashed rgba(61,69,53,0.25);
      background: rgba(61,69,53,0.03);
      border-radius: 2px;
      padding: 18px;
      transition: all .18s ease;
    }
    html.dark .dropzone{
      border: 1px dashed rgba(255,240,220,0.30);
      background: rgba(255,240,220,0.06);
    }
    .dropzone.dragover{
      border-color: var(--fg);
      background: rgba(61,69,53,0.06);
    }
    html.dark .dropzone.dragover{
      background: rgba(255,240,220,0.10);
    }

    /* Slider */
    .range-wrap{
      border: 1px solid rgba(61,69,53,0.15);
      background: rgba(61,69,53,0.05);
      border-radius: 2px;
      padding: 16px;
    }
    html.dark .range-wrap{
      border: 1px solid rgba(255,240,220,0.20);
      background: rgba(255,240,220,0.08);
    }
    input[type="range"]{
      width: 100%;
      accent-color: var(--fg);
    }
    .pill{
      display:inline-block;
      font-size: 11px;
      letter-spacing: .14em;
      text-transform: uppercase;
      opacity: .7;
      border: 1px solid rgba(61,69,53,0.18);
      padding: 6px 10px;
      border-radius: 2px;
      background: rgba(61,69,53,0.03);
    }
    html.dark .pill{
      border: 1px solid rgba(255,240,220,0.22);
      background: rgba(255,240,220,0.06);
    }

    /* Back left, Continue right (site-wide) */
    .nav-actions{
      display:flex;
      align-items:center;
      gap:10px;
    }
    .nav-actions .spacer{ flex: 1; }
    @media (max-width: 640px){
      .nav-actions{ flex-wrap: wrap; }
    }
  </style>
</head>

<body>
  <a href="#content" class="sr-only focus:not-sr-only focus:absolute focus:top-4 focus:left-4 px-4 py-2 text-sm z-[200]"
     style="background:var(--bg); border:1px solid var(--hair);">
    Skip to content
  </a>

  <a href="https://www.gardenerandson.com" class="gs-badge" target="_blank" rel="noopener noreferrer">
    Gardener &amp; Son
  </a>

  <script>
    window.BEGIN = {
      submitEndpoint: "",
      guidePdfUrl: "https://www.gardenerandson.com/assets/Where-Gardens-Begin-First-Steps.pdf",
      contactEmail: "hello@gardenerandson.com.au",
      studioUrl: "https://www.gardenerandson.com",
      registryUrl: "https://tinyforests.github.io/reg/",
      bookCallUrl: ""
    };
  </script>

  <nav class="backdrop-blur nav-border" style="background: var(--bg);">
    <div class="max-w-7xl mx-auto px-6 py-5 flex flex-col md:flex-row justify-between items-start md:items-center gap-4">
      <div class="flex items-center gap-3">
        <a href="#top" class="text-xs tracking-[0.18em] uppercase hover:opacity-70 transition-opacity">
          Where Gardens Begin
        </a>
      </div>

      <div class="flex flex-wrap items-center gap-6 md:gap-8 text-sm">
        <a href="#top" class="hover:opacity-60 transition-opacity">Start</a>
        <a href="#q1" class="hover:opacity-60 transition-opacity">Feeling</a>
        <a href="#q2" class="hover:opacity-60 transition-opacity">Hope</a>
        <a href="#q3" class="hover:opacity-60 transition-opacity">Help</a>
        <a href="#q3b" class="hover:opacity-60 transition-opacity">Easy</a>
        <a href="#q4" class="hover:opacity-60 transition-opacity">Use</a>
        <a href="#q5" class="hover:opacity-60 transition-opacity">Site</a>
        <a href="#photos" class="hover:opacity-60 transition-opacity">Photos</a>
        <a href="#details" class="hover:opacity-60 transition-opacity">Send</a>
        <a href="#done" class="hover:opacity-60 transition-opacity">Snapshot</a>

        <button id="themeToggle"
          class="text-xs tracking-[0.18em] uppercase hover:opacity-70 transition-opacity"
          style="border-left:1px solid var(--hair); padding-left:14px;">
          Dark
        </button>
      </div>
    </div>
  </nav>

  <main id="content">
    <!-- HERO -->
    <section id="top" class="screen">
      <div class="max-w-7xl mx-auto px-6 w-full">
        <div class="max-w-4xl">
          <div class="text-[11px] md:text-xs tracking-[0.22em] uppercase muted mb-4">
            A gentle beginning for a new garden
          </div>

          <h1 class="hero-title font-serif text-3xl md:text-5xl lg:text-6xl leading-[0.98] tracking-tight">
            Every garden begins somewhere.
          </h1>

          <p class="text-base md:text-lg leading-relaxed mt-4 font-light muted max-w-3xl">
            This takes 2–3 minutes. No prep. No judgement. A few answers and a couple of photos is enough to begin.
          </p>

          <div class="mt-5 flex flex-col sm:flex-row gap-2.5">
            <a href="#q1"
               class="inline-block text-sm px-5 py-2.5 transition-opacity hover:opacity-70"
               style="background:var(--fg); color:var(--bg);">
              Begin
            </a>

            <a id="btnStudio" href="#"
               class="inline-block text-sm px-5 py-2.5 btn-border transition-all rounded-sm">
              Back to studio
            </a>

            <a id="btnRegistry" href="#"
               class="inline-block text-sm px-5 py-2.5 transition-opacity hover:opacity-70 muted">
              Ecological Registry →
            </a>
          </div>

          <div class="mt-5 text-sm muted flex flex-wrap gap-x-3 gap-y-2">
            <span>Easy</span><span aria-hidden="true">·</span>
            <span>Staged</span><span aria-hidden="true">·</span>
            <span>Approachable</span><span aria-hidden="true">·</span>
            <span>Clear next step</span>
          </div>
        </div>
      </div>

      <a href="#q1" class="next-section">
        <span class="next-section-arrow">↓</span>
        <span class="next-section-label">Begin</span>
      </a>
    </section>

    <!-- Q1 -->
    <section id="q1" class="screen">
      <div class="max-w-4xl mx-auto px-6 w-full">
        <h2 class="font-serif text-2xl md:text-3xl lg:text-4xl mb-3 leading-tight">What feels unfinished?</h2>
        <p class="text-sm md:text-base leading-relaxed font-light muted mb-5 max-w-2xl">
          Choose the closest fit — there is no wrong answer.
        </p>

        <div class="grid md:grid-cols-2 gap-3">
          <button class="choice-btn" data-group="q1" data-value="The space feels empty or unclear">The space feels empty or unclear</button>
          <button class="choice-btn" data-group="q1" data-value="Maintenance feels heavy">Maintenance feels heavy</button>
          <button class="choice-btn" data-group="q1" data-value="It lacks shade or shelter">It lacks shade or shelter</button>
          <button class="choice-btn" data-group="q1" data-value="It doesn’t feel like us">It doesn’t feel like us</button>
          <button class="choice-btn" data-group="q1" data-value="Ready for change">Ready for change</button>
          <button class="choice-btn" data-group="q1" data-value="Just exploring">Just exploring</button>
        </div>

        <div class="mt-5 nav-actions">
          <a href="#top" class="inline-block text-sm px-5 py-2.5 btn-border transition-all rounded-sm">Back</a>
          <span class="spacer"></span>
          <a href="#q2" class="inline-block text-sm px-5 py-2.5 transition-opacity hover:opacity-70" style="background:var(--fg); color:var(--bg);">Continue</a>
        </div>
      </div>

      <a href="#q2" class="next-section">
        <span class="next-section-arrow">↓</span>
        <span class="next-section-label">Hope</span>
      </a>
    </section>

    <!-- Q2 -->
    <section id="q2" class="screen">
      <div class="max-w-4xl mx-auto px-6 w-full">
        <h2 class="font-serif text-2xl md:text-3xl lg:text-4xl mb-3 leading-tight">What is hoped for — over time?</h2>
        <p class="text-sm md:text-base leading-relaxed font-light muted mb-5 max-w-2xl">Choose one or two.</p>

        <div class="grid md:grid-cols-2 gap-3">
          <button class="choice-btn" data-group="q2" data-value="A quiet retreat">A quiet retreat</button>
          <button class="choice-btn" data-group="q2" data-value="A place to gather">A place to gather</button>
          <button class="choice-btn" data-group="q2" data-value="Habitat, birds, and life">Habitat, birds, and life</button>
          <button class="choice-btn" data-group="q2" data-value="Space for children (and play)">Space for children (and play)</button>
          <button class="choice-btn" data-group="q2" data-value="Productive garden (food / herbs)">Productive garden (food / herbs)</button>
          <button class="choice-btn" data-group="q2" data-value="A complete transformation">A complete transformation</button>
        </div>

        <div class="mt-5 nav-actions">
          <a href="#q1" class="inline-block text-sm px-5 py-2.5 btn-border transition-all rounded-sm">Back</a>
          <span class="spacer"></span>
          <a href="#q3" class="inline-block text-sm px-5 py-2.5 transition-opacity hover:opacity-70" style="background:var(--fg); color:var(--bg);">Continue</a>
        </div>
      </div>

      <a href="#q3" class="next-section">
        <span class="next-section-arrow">↓</span>
        <span class="next-section-label">Help</span>
      </a>
    </section>

    <!-- Q3 -->
    <section id="q3" class="screen">
      <div class="max-w-4xl mx-auto px-6 w-full">
        <h2 class="font-serif text-2xl md:text-3xl lg:text-4xl mb-3 leading-tight">What kind of help is wanted?</h2>
        <p class="text-sm md:text-base leading-relaxed font-light muted mb-5 max-w-2xl">
          This simply helps match the right starting point.
        </p>

        <div class="grid md:grid-cols-2 gap-3">
          <button class="choice-btn" data-group="q3" data-value="A complete redesign">A complete redesign</button>
          <button class="choice-btn" data-group="q3" data-value="A clear plan to follow">A clear plan to follow</button>
          <button class="choice-btn" data-group="q3" data-value="Help fixing one problem">Help fixing one problem</button>
          <button class="choice-btn" data-group="q3" data-value="Planting / habitat uplift">Planting / habitat uplift</button>
          <button class="choice-btn" data-group="q3" data-value="Not sure yet">Not sure yet</button>
          <button class="choice-btn" data-group="q3" data-value="Just exploring possibilities">Just exploring possibilities</button>
        </div>

        <div class="mt-5 nav-actions">
          <a href="#q2" class="inline-block text-sm px-5 py-2.5 btn-border transition-all rounded-sm">Back</a>
          <span class="spacer"></span>
          <a href="#q3b" class="inline-block text-sm px-5 py-2.5 transition-opacity hover:opacity-70" style="background:var(--fg); color:var(--bg);">Continue</a>
        </div>
      </div>

      <a href="#q3b" class="next-section">
        <span class="next-section-arrow">↓</span>
        <span class="next-section-label">Easy</span>
      </a>
    </section>

    <!-- Q3B -->
    <section id="q3b" class="screen">
      <div class="max-w-4xl mx-auto px-6 w-full">
        <h2 class="font-serif text-2xl md:text-3xl lg:text-4xl mb-3 leading-tight">
          What feels like an easy beginning?
        </h2>

        <p class="text-sm md:text-base leading-relaxed font-light muted mb-5 max-w-2xl">
          Most gardens change in stages. A first step can be small, affordable, and still meaningful.
        </p>

        <div class="grid md:grid-cols-2 gap-3">
          <button class="choice-btn" data-group="comfort" data-value="Just a clear plan (low cost)">Just a clear plan (low cost)</button>
          <button class="choice-btn" data-group="comfort" data-value="Small upgrades first">Small upgrades first</button>
          <button class="choice-btn" data-group="comfort" data-value="A medium transformation">A medium transformation</button>
          <button class="choice-btn" data-group="comfort" data-value="A full transformation">A full transformation</button>
          <button class="choice-btn" data-group="comfort" data-value="Not sure yet">Not sure yet</button>
          <button class="choice-btn" data-group="comfort" data-value="Prefer to talk it through">Prefer to talk it through</button>
        </div>

        <div class="mt-5 nav-actions">
          <a href="#q3" class="inline-block text-sm px-5 py-2.5 btn-border transition-all rounded-sm">Back</a>
          <span class="spacer"></span>
          <a href="#q4" class="inline-block text-sm px-5 py-2.5 transition-opacity hover:opacity-70" style="background:var(--fg); color:var(--bg);">Continue</a>
        </div>
      </div>

      <a href="#q4" class="next-section">
        <span class="next-section-arrow">↓</span>
        <span class="next-section-label">Use</span>
      </a>
    </section>

    <!-- Q4 -->
    <section id="q4" class="screen">
      <div class="max-w-4xl mx-auto px-6 w-full">
        <h2 class="font-serif text-2xl md:text-3xl lg:text-4xl mb-3 leading-tight">How will the garden be used most?</h2>
        <p class="text-sm md:text-base leading-relaxed font-light muted mb-5 max-w-2xl">Choose up to two.</p>

        <div class="grid md:grid-cols-2 gap-3">
          <button class="choice-btn" data-group="use" data-value="Quiet mornings / retreat">Quiet mornings / retreat</button>
          <button class="choice-btn" data-group="use" data-value="Entertaining / gatherings">Entertaining / gatherings</button>
          <button class="choice-btn" data-group="use" data-value="Kids / play">Kids / play</button>
          <button class="choice-btn" data-group="use" data-value="Dog-friendly">Dog-friendly</button>
          <button class="choice-btn" data-group="use" data-value="Growing food / herbs">Growing food / herbs</button>
          <button class="choice-btn" data-group="use" data-value="Wildlife / habitat">Wildlife / habitat</button>
        </div>

        <div class="mt-6 range-wrap">
          <div class="flex items-center justify-between gap-3 mb-3">
            <div class="text-xs uppercase tracking-[0.18em] opacity-60">How hands-on feels comfortable?</div>
            <div class="pill" id="handsOnLabel">Balanced</div>
          </div>

          <div class="flex items-center justify-between text-xs muted mb-2">
            <span>Low maintenance</span>
            <span>Happy to garden</span>
          </div>

          <input id="handsOn" type="range" min="0" max="100" value="50" />
          <div class="text-xs muted mt-2" id="handsOnHint">A garden can be designed to match the rhythm of life.</div>
        </div>

        <div class="mt-5 nav-actions">
          <a href="#q3b" class="inline-block text-sm px-5 py-2.5 btn-border transition-all rounded-sm">Back</a>
          <span class="spacer"></span>
          <a href="#q5" class="inline-block text-sm px-5 py-2.5 transition-opacity hover:opacity-70" style="background:var(--fg); color:var(--bg);">Continue</a>
        </div>
      </div>

      <a href="#q5" class="next-section">
        <span class="next-section-arrow">↓</span>
        <span class="next-section-label">Site</span>
      </a>
    </section>

    <!-- Q5 -->
    <section id="q5" class="screen">
      <div class="max-w-4xl mx-auto px-6 w-full">
        <h2 class="font-serif text-2xl md:text-3xl lg:text-4xl mb-3 leading-tight">What is the site like?</h2>
        <p class="text-sm md:text-base leading-relaxed font-light muted mb-5 max-w-2xl">
          Best guess is enough.
        </p>

        <div class="grid md:grid-cols-2 gap-5">
          <div>
            <div class="text-xs uppercase tracking-[0.18em] opacity-60 mb-2">Light</div>
            <div class="space-y-3">
              <button class="choice-btn" data-group="light" data-value="Mostly sun">Mostly sun</button>
              <button class="choice-btn" data-group="light" data-value="Mostly shade">Mostly shade</button>
              <button class="choice-btn" data-group="light" data-value="A mix">A mix</button>
              <button class="choice-btn" data-group="light" data-value="Not sure">Not sure</button>
            </div>
          </div>

          <div>
            <div class="text-xs uppercase tracking-[0.18em] opacity-60 mb-2">Slope</div>
            <div class="space-y-3">
              <button class="choice-btn" data-group="slope" data-value="Mostly flat">Mostly flat</button>
              <button class="choice-btn" data-group="slope" data-value="Gently sloped">Gently sloped</button>
              <button class="choice-btn" data-group="slope" data-value="Clearly sloped">Clearly sloped</button>
              <button class="choice-btn" data-group="slope" data-value="Not sure">Not sure</button>
            </div>
          </div>
        </div>

        <div class="mt-5 nav-actions">
          <a href="#q4" class="inline-block text-sm px-5 py-2.5 btn-border transition-all rounded-sm">Back</a>
          <span class="spacer"></span>
          <a href="#photos" class="inline-block text-sm px-5 py-2.5 transition-opacity hover:opacity-70" style="background:var(--fg); color:var(--bg);">Continue</a>
        </div>
      </div>

      <a href="#photos" class="next-section">
        <span class="next-section-arrow">↓</span>
        <span class="next-section-label">Photos</span>
      </a>
    </section>

    <!-- PHOTOS -->
    <section id="photos" class="screen">
      <div class="max-w-4xl mx-auto px-6 w-full">
        <h2 class="font-serif text-2xl md:text-3xl lg:text-4xl mb-3 leading-tight">Share a glimpse of the garden</h2>
        <p class="text-sm md:text-base leading-relaxed font-light muted mb-5 max-w-2xl">
          No prep. A quick glimpse is enough. Two or three photos is perfect.
        </p>

        <div id="dropzone" class="dropzone">
          <div class="flex flex-col md:flex-row md:items-center md:justify-between gap-3">
            <div>
              <div class="text-xs uppercase tracking-[0.18em] opacity-60 mb-1">Upload</div>
              <div class="text-sm opacity-80">Drag &amp; drop images here, or choose files.</div>
              <div class="text-xs muted mt-1">JPG / PNG / HEIC supported by most devices.</div>
            </div>

            <div class="flex gap-2">
              <label class="inline-block text-sm px-5 py-2.5 btn-border transition-all rounded-sm cursor-pointer">
                Choose photos
                <input id="photoInput" type="file" accept="image/*" multiple class="sr-only" />
              </label>
              <button id="clearPhotos" class="inline-block text-sm px-5 py-2.5 btn-border transition-all rounded-sm">Clear</button>
            </div>
          </div>

          <div id="photoPreview" class="mt-4 grid grid-cols-2 md:grid-cols-3 gap-3"></div>
        </div>

        <div class="mt-5 nav-actions">
          <a href="#q5" class="inline-block text-sm px-5 py-2.5 btn-border transition-all rounded-sm">Back</a>
          <span class="spacer"></span>
          <a href="#details" class="inline-block text-sm px-5 py-2.5 transition-opacity hover:opacity-70" style="background:var(--fg); color:var(--bg);">Continue</a>
        </div>
      </div>

      <a href="#details" class="next-section">
        <span class="next-section-arrow">↓</span>
        <span class="next-section-label">Send</span>
      </a>
    </section>

    <!-- DETAILS -->
    <section id="details" class="screen">
      <div class="max-w-4xl mx-auto px-6 w-full">
        <h2 class="font-serif text-2xl md:text-3xl lg:text-4xl mb-3 leading-tight">Where should the guide be sent?</h2>
        <p class="text-sm md:text-base leading-relaxed font-light muted mb-5 max-w-2xl">
          A short guide is prepared based on what was shared. A quick chat is optional — only if it helps.
        </p>

        <div class="grid md:grid-cols-2 gap-4">
          <div class="space-y-3">
            <div>
              <label class="text-xs uppercase tracking-[0.18em] opacity-60">Name</label>
              <input id="name" class="input mt-1" type="text" placeholder="First name" autocomplete="given-name" />
            </div>

            <div>
              <label class="text-xs uppercase tracking-[0.18em] opacity-60">Email</label>
              <input id="email" class="input mt-1" type="email" placeholder="name@email.com" autocomplete="email" />
            </div>

            <div>
              <label class="text-xs uppercase tracking-[0.18em] opacity-60">Suburb</label>
              <input id="suburb" class="input mt-1" type="text" placeholder="e.g. Surrey Hills" autocomplete="address-level2" />
            </div>
          </div>

          <div class="space-y-3">
            <div class="card-hover border border-subtle-strong bg-subtle p-4 rounded-sm">
              <div class="text-xs uppercase tracking-[0.18em] opacity-60 mb-2">A note (optional)</div>
              <textarea id="note" class="input" rows="6" placeholder="Any detail that feels important — light is fine."></textarea>
            </div>

            <div class="text-xs muted">
              If no submission endpoint is configured, a tidy email draft opens instead (so nothing is lost).
            </div>
          </div>
        </div>

        <div class="mt-5 nav-actions">
          <a href="#photos" class="inline-block text-sm px-5 py-2.5 btn-border transition-all rounded-sm">Back</a>
          <span class="spacer"></span>
          <button id="submitBtn" class="inline-block text-sm px-5 py-2.5 transition-opacity hover:opacity-70" style="background:var(--fg); color:var(--bg);">
            Send my first step
          </button>
          <span id="status" class="text-sm muted"></span>
        </div>
      </div>

      <a href="#done" class="next-section">
        <span class="next-section-arrow">↓</span>
        <span class="next-section-label">Snapshot</span>
      </a>
    </section>

    <!-- DONE -->
    <section id="done" class="screen">
      <div class="max-w-4xl mx-auto px-6 w-full">
        <div class="text-[11px] md:text-xs tracking-[0.22em] uppercase muted mb-4">
          Your Garden Path Snapshot
        </div>

        <h2 class="font-serif text-2xl md:text-3xl lg:text-4xl mb-3 leading-tight" id="snapshotTitle">
          A beginning has been recorded.
        </h2>

        <p class="text-sm md:text-base leading-relaxed font-light muted mb-5 max-w-2xl" id="snapshotIntro">
          Gardens don’t need to be perfect to begin. Most change happens through a few calm, well-chosen steps — staged to suit time and budget.
        </p>

        <div class="grid md:grid-cols-2 gap-4">
          <div class="card-hover border border-subtle-strong bg-subtle p-5 rounded-sm">
            <div class="text-xs uppercase tracking-[0.18em] opacity-60 mb-2">Direction</div>
            <div class="font-medium mb-2" id="snapshotDirection">—</div>
            <p class="text-sm leading-relaxed opacity-75" id="snapshotDirectionText">—</p>
          </div>

          <div class="card-hover border border-subtle-strong bg-subtle p-5 rounded-sm">
            <div class="text-xs uppercase tracking-[0.18em] opacity-60 mb-2">An easy first step</div>
            <div class="font-medium mb-2" id="snapshotFirstStepHead">—</div>
            <p class="text-sm leading-relaxed opacity-75" id="snapshotFirstStep">—</p>
          </div>
        </div>

        <div class="mt-4 card-hover border border-subtle-strong bg-subtle p-5 rounded-sm">
          <div class="text-xs uppercase tracking-[0.18em] opacity-60 mb-2">What was heard</div>
          <div class="text-sm leading-relaxed opacity-80" id="snapshotHeard">—</div>
        </div>

        <div class="mt-4 card-hover border border-subtle-strong bg-subtle p-5 rounded-sm" id="photoNudge" style="display:none;">
          <div class="text-xs uppercase tracking-[0.18em] opacity-60 mb-2">Optional</div>
          <div class="font-medium mb-2">Two photos makes everything easier.</div>
          <div class="text-sm leading-relaxed opacity-75">
            If it feels okay, add 2–3 photos and the guide can be more specific.
          </div>
          <div class="mt-3">
            <a href="#photos" class="inline-block text-sm px-5 py-2.5 btn-border transition-all rounded-sm">Add photos</a>
          </div>
        </div>

        <div class="mt-5 flex flex-col sm:flex-row gap-2.5">
          <a id="downloadGuide" href="#" target="_blank" rel="noopener noreferrer"
             class="inline-block text-sm px-5 py-2.5 transition-opacity hover:opacity-70"
             style="background:var(--fg); color:var(--bg);">
            Download the guide
          </a>

          <a id="bookCall" href="#"
             class="inline-block text-sm px-5 py-2.5 btn-border transition-all rounded-sm">
            Quick chat (optional)
          </a>

          <a href="#top" class="inline-block text-sm px-5 py-2.5 btn-border transition-all rounded-sm">
            Start again
          </a>
        </div>

        <div class="mt-5 text-xs muted">
          If a booking link is not configured, the chat button opens email instead.
        </div>
      </div>
    </section>
  </main>

  <script>
    // ---------- Wire config links ----------
    const cfg = window.BEGIN || {};
    const setHref = (id, href) => {
      const el = document.getElementById(id);
      if (!el) return;
      el.setAttribute("href", href);
    };

    setHref("btnStudio", cfg.studioUrl || "https://www.gardenerandson.com");
    setHref("btnRegistry", cfg.registryUrl || "https://tinyforests.github.io/reg/");
    setHref("downloadGuide", cfg.guidePdfUrl || "#");

    // Book call link fallback
    const contactEmail = cfg.contactEmail || "hello@gardenerandson.com.au";
    const bookFallbackMailto = `mailto:${contactEmail}?subject=${encodeURIComponent("Quick garden chat")}&body=${encodeURIComponent("Hello — a quick garden chat is requested.\n\nName:\nSuburb:\nBest number:\n\nA few times that work:")}`;
    setHref("bookCall", (cfg.bookCallUrl && cfg.bookCallUrl.trim()) ? cfg.bookCallUrl : bookFallbackMailto);

    // ---------- Theme ----------
    const root = document.documentElement;
    const themeBtn = document.getElementById("themeToggle");

    const applyTheme = (mode) => {
      const isDark = mode === "dark";
      root.classList.toggle("dark", isDark);
      if (themeBtn) themeBtn.textContent = isDark ? "Light" : "Dark";
      try { localStorage.setItem("begin_theme", mode); } catch(e){}
    };

    const stored = (() => { try { return localStorage.getItem("begin_theme"); } catch(e){ return null; }})();
    if (stored === "dark" || stored === "light") {
      applyTheme(stored);
    } else {
      const prefersDark = window.matchMedia && window.matchMedia("(prefers-color-scheme: dark)").matches;
      applyTheme(prefersDark ? "dark" : "light");
    }

    themeBtn && themeBtn.addEventListener("click", () => {
      const nowDark = root.classList.contains("dark");
      applyTheme(nowDark ? "light" : "dark");
    });

    // ---------- Smooth scroll anchors ----------
    document.querySelectorAll('a[href^="#"]').forEach((anchor) => {
      anchor.addEventListener("click", function (e) {
        const href = this.getAttribute("href");
        const target = document.querySelector(href);
        if (!target) return;
        e.preventDefault();
        target.scrollIntoView({ behavior: "smooth", block: "start" });
      });
    });

    // ---------- State ----------
    const state = {
      q1: null,
      q2: [],
      q3: null,
      comfort: null,
      use: [],
      handsOn: 50,
      light: null,
      slope: null,
      photos: []
    };

    // ---------- Choice buttons ----------
    const maxTwo = 2;

    function clearGroup(group){
      document.querySelectorAll(`.choice-btn[data-group="${group}"]`).forEach(b => b.dataset.selected = "false");
    }

    function toggleMulti(group, arr, value, max){
      const i = arr.indexOf(value);
      if (i >= 0) {
        arr.splice(i, 1);
        const btn = document.querySelector(`.choice-btn[data-group="${group}"][data-value="${CSS.escape(value)}"]`);
        if (btn) btn.dataset.selected = "false";
      } else {
        if (arr.length >= max) {
          const removed = arr.shift();
          const removedBtn = document.querySelector(`.choice-btn[data-group="${group}"][data-value="${CSS.escape(removed)}"]`);
          if (removedBtn) removedBtn.dataset.selected = "false";
        }
        arr.push(value);
        const btn = document.querySelector(`.choice-btn[data-group="${group}"][data-value="${CSS.escape(value)}"]`);
        if (btn) btn.dataset.selected = "true";
      }
    }

    document.querySelectorAll(".choice-btn").forEach(btn => {
      btn.addEventListener("click", () => {
        const group = btn.getAttribute("data-group");
        const value = btn.getAttribute("data-value");

        if (group === "q1") {
          state.q1 = value;
          clearGroup("q1");
          btn.dataset.selected = "true";
          return;
        }
        if (group === "q2") {
          toggleMulti("q2", state.q2, value, maxTwo);
          return;
        }
        if (group === "q3") {
          state.q3 = value;
          clearGroup("q3");
          btn.dataset.selected = "true";
          return;
        }
        if (group === "comfort") {
          state.comfort = value;
          clearGroup("comfort");
          btn.dataset.selected = "true";
          return;
        }
        if (group === "use") {
          toggleMulti("use", state.use, value, maxTwo);
          return;
        }
        if (group === "light") {
          state.light = value;
          clearGroup("light");
          btn.dataset.selected = "true";
          return;
        }
        if (group === "slope") {
          state.slope = value;
          clearGroup("slope");
          btn.dataset.selected = "true";
          return;
        }
      });
    });

    // ---------- Slider ----------
    const handsOn = document.getElementById("handsOn");
    const handsOnLabel = document.getElementById("handsOnLabel");
    const handsOnHint = document.getElementById("handsOnHint");

    function labelHandsOn(v){
      if (v <= 25) return { label: "Low maintenance", hint: "Design can reduce weekly effort through structure and calm planting logic." };
      if (v <= 55) return { label: "Balanced", hint: "A garden can be lively without becoming a second job." };
      if (v <= 80) return { label: "Hands-on", hint: "A richer rhythm is possible — seasonal tasks, small rituals, good tools." };
      return { label: "Garden joy", hint: "A garden can become a practice — layered, detailed, and deeply rewarding." };
    }

    function syncHandsOn(){
      const v = Number(handsOn.value || 50);
      state.handsOn = v;
      const { label, hint } = labelHandsOn(v);
      handsOnLabel.textContent = label;
      handsOnHint.textContent = hint;
    }
    handsOn.addEventListener("input", syncHandsOn);
    syncHandsOn();

    // ---------- Photo upload ----------
    const input = document.getElementById("photoInput");
    const drop = document.getElementById("dropzone");
    const preview = document.getElementById("photoPreview");
    const clearBtn = document.getElementById("clearPhotos");

    function renderPreviews(){
      preview.innerHTML = "";
      if (!state.photos.length) return;

      state.photos.forEach((file, idx) => {
        const url = URL.createObjectURL(file);
        const card = document.createElement("div");
        card.className = "card-hover border border-subtle-strong bg-subtle p-2 rounded-sm";
        card.innerHTML = `
          <div class="aspect-[4/3] overflow-hidden border border-subtle rounded-sm" style="background: rgba(0,0,0,0.02);">
            <img src="${url}" alt="Uploaded photo ${idx+1}" class="w-full h-full object-cover" />
          </div>
          <div class="mt-2 flex items-center justify-between gap-2">
            <div class="text-xs muted truncate">${file.name}</div>
            <button class="text-xs btn-border px-2 py-1 rounded-sm" data-remove="${idx}">Remove</button>
          </div>
        `;
        preview.appendChild(card);
      });

      preview.querySelectorAll("button[data-remove]").forEach((b) => {
        b.addEventListener("click", () => {
          const idx = Number(b.getAttribute("data-remove"));
          const removed = state.photos.splice(idx, 1);
          if (removed && removed[0]) { try { URL.revokeObjectURL(removed[0]); } catch(e){} }
          renderPreviews();
        });
      });
    }

    function addFiles(fileList){
      const files = Array.from(fileList || []).filter(f => f && f.type && f.type.startsWith("image/"));
      const combined = state.photos.concat(files).slice(0, 6);
      state.photos = combined;
      renderPreviews();
    }

    input.addEventListener("change", (e) => addFiles(e.target.files));
    clearBtn.addEventListener("click", (e) => {
      e.preventDefault();
      state.photos = [];
      if (input) input.value = "";
      renderPreviews();
    });

    ["dragenter","dragover"].forEach(evt => {
      drop.addEventListener(evt, (e) => {
        e.preventDefault();
        e.stopPropagation();
        drop.classList.add("dragover");
      });
    });
    ["dragleave","drop"].forEach(evt => {
      drop.addEventListener(evt, (e) => {
        e.preventDefault();
        e.stopPropagation();
        drop.classList.remove("dragover");
      });
    });
    drop.addEventListener("drop", (e) => {
      const dt = e.dataTransfer;
      if (dt && dt.files) addFiles(dt.files);
    });

    // ---------- Snapshot generator ----------
    function computeSnapshot(){
      const isHabitat = state.q2.includes("Habitat, birds, and life") || state.use.includes("Wildlife / habitat");
      const isGather = state.q2.includes("A place to gather") || state.use.includes("Entertaining / gatherings");
      const isRetreat = state.q2.includes("A quiet retreat") || state.use.includes("Quiet mornings / retreat");
      const isKids = state.q2.includes("Space for children (and play)") || state.use.includes("Kids / play");
      const isFood = state.q2.includes("Productive garden (food / herbs)") || state.use.includes("Growing food / herbs");

      const parts = [];
      if (isHabitat) parts.push("Habitat");
      if (isRetreat) parts.push("Retreat");
      if (isGather) parts.push("Gathering");
      if (isKids) parts.push("Play");
      if (isFood) parts.push("Kitchen garden");

      const direction = parts.length ? parts.slice(0,2).join(" + ") : "Clarity + calm";

      const rhythm = labelHandsOn(state.handsOn).label;
      const light = state.light || "Not sure";
      const slope = state.slope || "Not sure";

      let directionText = `A direction is forming: ${direction}. `;
      directionText += `This can be designed to a ${rhythm.toLowerCase()} rhythm, `;
      directionText += `with a site that feels like "${light.toLowerCase()}" and "${slope.toLowerCase()}".`;

      let head = "Start small, choose well.";
      let step = "Begin by clarifying one or two anchor moves (often shade, edges, and groundcover continuity). Small decisions, made well, make everything feel easier and more affordable.";

      if (state.comfort === "Just a clear plan (low cost)") {
        head = "Begin with a plan.";
        step = "A clear plan is the lowest-cost way to reduce overwhelm. It sets priorities, sequencing, and a staged pathway that can be implemented over time.";
      } else if (state.comfort === "Small upgrades first") {
        head = "Make one upgrade that lifts the whole garden.";
        step = "Choose one improvement that changes how the space feels: a small seating edge, a shade tree (or future canopy), a path that makes movement easy, or a planting bed that replaces maintenance with structure.";
      } else if (state.q3 === "Help fixing one problem") {
        head = "Solve one thing properly.";
        step = "Name the single pressure point (maintenance, exposure, emptiness, privacy). Then design one strong intervention that lifts the whole space.";
      } else if (state.q3 === "A clear plan to follow") {
        head = "Build a calm staged pathway.";
        step = "Structure first, then planting, then details. A staged pathway keeps the work affordable and prevents redoing decisions later.";
      } else if (state.q3 === "Planting / habitat uplift" || isHabitat) {
        head = "Increase living structure (gently).";
        step = "Add layered habitat: canopy (or future canopy), midstorey shelter, and a living ground layer. Even incremental changes can shift what returns to the garden.";
      } else if (state.q3 === "A complete redesign") {
        head = "Reframe the whole space (without rush).";
        step = "A redesign doesn’t have to happen all at once. Start with the story of use and feeling, then stage the build so it stays calm and controlled.";
      }

      const heardBits = [];
      if (state.q1) heardBits.push(`Unfinished: <strong>${state.q1}</strong>.`);
      if (state.q2.length) heardBits.push(`Hoped for: <strong>${state.q2.join(", ")}</strong>.`);
      if (state.q3) heardBits.push(`Help: <strong>${state.q3}</strong>.`);
      if (state.comfort) heardBits.push(`Easy beginning: <strong>${state.comfort}</strong>.`);
      if (state.use.length) heardBits.push(`Use: <strong>${state.use.join(", ")}</strong>.`);
      heardBits.push(`Rhythm: <strong>${labelHandsOn(state.handsOn).label}</strong>.`);
      heardBits.push(`Light: <strong>${light}</strong>.`);
      heardBits.push(`Slope: <strong>${slope}</strong>.`);
      heardBits.push(`Photos: <strong>${state.photos.length}</strong>.`);

      return { direction, directionText, head, step, heard: heardBits.join(" ") };
    }

    function renderSnapshot(){
      const s = computeSnapshot();
      document.getElementById("snapshotDirection").textContent = s.direction;
      document.getElementById("snapshotDirectionText").textContent = s.directionText;
      document.getElementById("snapshotFirstStepHead").textContent = s.head;
      document.getElementById("snapshotFirstStep").textContent = s.step;
      document.getElementById("snapshotHeard").innerHTML = s.heard;

      const nudge = document.getElementById("photoNudge");
      if (nudge) nudge.style.display = state.photos.length ? "none" : "block";

      return s;
    }

    // ---------- Submit ----------
    const submitBtn = document.getElementById("submitBtn");
    const statusEl = document.getElementById("status");

    function buildSummary(){
      const name = (document.getElementById("name").value || "").trim();
      const email = (document.getElementById("email").value || "").trim();
      const suburb = (document.getElementById("suburb").value || "").trim();
      const note = (document.getElementById("note").value || "").trim();

      return {
        name, email, suburb, note,
        q1: state.q1,
        hopes: state.q2.slice(),
        help: state.q3,
        easyBeginning: state.comfort,
        use: state.use.slice(),
        handsOn: state.handsOn,
        light: state.light,
        slope: state.slope,
        photoCount: state.photos.length,
        timestamp: new Date().toISOString()
      };
    }

    function validate(summary){
      if (!summary.email) return "An email helps send the guide.";
      if (!summary.name) return "A first name is enough.";
      if (!summary.suburb) return "A suburb helps us understand place.";
      return null;
    }

    function mailtoFallback(summary, snapshot){
      const lines = [
        "Where Gardens Begin — submission",
        "",
        `Name: ${summary.name}`,
        `Email: ${summary.email}`,
        `Suburb: ${summary.suburb}`,
        "",
        `Unfinished: ${summary.q1 || "—"}`,
        `Hoped for: ${summary.hopes.length ? summary.hopes.join(", ") : "—"}`,
        `Help: ${summary.help || "—"}`,
        `Easy beginning: ${summary.easyBeginning || "—"}`,
        `Use: ${summary.use.length ? summary.use.join(", ") : "—"}`,
        `Hands-on (0–100): ${summary.handsOn}`,
        `Light: ${summary.light || "—"}`,
        `Slope: ${summary.slope || "—"}`,
        `Photos selected: ${summary.photoCount}`,
        "",
        "Snapshot",
        `Direction: ${snapshot.direction}`,
        `Easy first step: ${snapshot.head} — ${snapshot.step}`,
        "",
        "Note:",
        summary.note || "—"
      ];
      const subject = `Where Gardens Begin — ${summary.name} (${summary.suburb})`;
      const body = lines.join("\n");
      return `mailto:${contactEmail}?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(body)}`;
    }

    async function postToEndpoint(summary, snapshot){
      const fd = new FormData();
      fd.append("payload", JSON.stringify({ summary, snapshot }));
      state.photos.forEach((file, i) => fd.append(`photo_${i+1}`, file, file.name));

      const res = await fetch(cfg.submitEndpoint, { method: "POST", body: fd });
      if (!res.ok) throw new Error(`Submit failed (${res.status})`);
      return true;
    }

    submitBtn.addEventListener("click", async () => {
      const summary = buildSummary();
      const err = validate(summary);
      if (err) { statusEl.textContent = err; return; }

      statusEl.textContent = "Sending…";

      // Prepare snapshot now
      const snapshot = renderSnapshot();

      try {
        const endpoint = (cfg.submitEndpoint || "").trim();
        if (endpoint) {
          await postToEndpoint(summary, snapshot);
          statusEl.textContent = "Sent.";
        } else {
          statusEl.textContent = "Opening a tidy email…";
          window.location.href = mailtoFallback(summary, snapshot);
        }

        try { localStorage.setItem("where_gardens_begin_last", JSON.stringify({ summary, snapshot })); } catch(e){}

        // Move to done screen
        const done = document.getElementById("done");
        done && done.scrollIntoView({ behavior: "smooth", block: "start" });

      } catch (e) {
        statusEl.textContent = "Could not send. Opening email instead…";
        window.location.href = mailtoFallback(summary, snapshot);
      }
    });
  </script>
</body>
</html>
